(this.webpackJsonpnotflix=this.webpackJsonpnotflix||[]).push([[0],{107:function(e,a,t){e.exports=t(152)},116:function(e,a,t){},151:function(e,a,t){},152:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(16),l=t.n(o),i=t(180),s=t(41),c=t(20),m=t(82);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=t(18),d=t(9),p=(t(116),t(34)),g=t(171),f=t(172),h=t(51),E=t(37),b=t(69),w=t(59),v=Object(E.a)({palette:{type:"dark",primary:{main:"rgba(0, 0, 0, 0)"},secondary:{main:w.a[500]},textPrimary:{main:"#fff"}},typography:{fontFamily:"Roboto",primary:{main:"#fff"},secondary:{main:w.a[500]}}}),x=Object(b.a)({appbarRoot:{backgroundColor:"transparent",border:0,boxShadow:"0px 0px 0px 0px",color:v.palette.secondary.main,transition:"ease-out"},sticky:{backgroundColor:v.palette.secondary.main,boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)",color:"#fff",transition:"ease-in"},brandDefault:{color:v.palette.secondary.main},brandScrolled:{color:v.palette.textPrimary.main},Grid:{padding:"15px",alignItems:"center"},GridItem:{},Card:{backgroundColor:"transparent",border:"1px solid #555"},CardMedia:{height:0,paddingTop:"56.25%"},CardHeader:{padding:"10px"},CardHeaderTitle:{color:v.palette.secondary.main},gridList:{display:"flex",flexWrap:"nowrap",padding:"5px 0 15px"},gridTile:{border:"1px solid #555"},gridTileBar:{backgroundColor:"#00000030"},subtitle:{textTransform:"capitalize"}}),y=function(e){var a=x(),t=Object(n.useState)(0),o=Object(p.a)(t,2),l=o[0],i=o[1];return Object(n.useEffect)((function(){window.onscroll=function(){var e=window.pageYOffset;i(e>=50)}}),[]),r.a.createElement(g.a,{classes:{root:a.appbarRoot,positionSticky:a.sticky},position:l?"sticky":"relative"},r.a.createElement(f.a,null,r.a.createElement(u.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(h.a,{variant:"h6",className:l?a.brandScrolled:a.brandDefault},"Notflix"))))},S=function(e){return r.a.createElement("div",{id:"footer"},"\xa9 Copyright 2020, Developed by\xa0",r.a.createElement("a",{className:"author",href:"https://www.linkedin.com/in/sudeepp/",target:"_blank",rel:"noopener noreferrer"},"Sudeep Pirangi"),"\xa0using React library")},I=t(38),j=t(6),O=t(173),k=t(174),A=t(191),N=t(190),C=t(175),T=t(78),_=t(178),P=t(176),F=t(177),D=t(49),U=t.n(D),L={FIREBASE_TOKEN_REFRESH:"https://securetoken.googleapis.com/v1/token?key=",FIREBASE_SIGNUP_URI:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",FIREBASE_SIGNIN_URI:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",FIREBASE_APIKEY:"AIzaSyDBhRGnt6_66UpuAC_qRZ80Slbg0VnxwQc",NOTFLIX_URI:"https://notflix-node-api.herokuapp.com"},R=Object(c.b)((function(e){return{isAuth:e.auth.isAuthorized,signupError:e.auth.signupError}}),(function(e){return{onSignupSubmit:function(a){e(function(e){var a={email:e.email,password:e.password,returnSecureToken:!0};return function(t){U.a.post(L.FIREBASE_SIGNUP_URI+L.FIREBASE_APIKEY,a).then((function(a){console.log("signup success",a),t(function(e,a){return{type:"SIGNUP_SUCCESS",inputData:e,response:a}}(e,a))})).catch((function(e){console.log("signup post error: ",e.response),t(function(e){return{type:"SIGNUP_FAILURE",response:e}}(e.response))}))}}(a))}}}))((function(e){var a=r.a.useState({firstname:"",lastname:"",email:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1}),t=Object(p.a)(a,2),o=t[0],l=t[1],i=function(e){return function(a){l(Object(j.a)(Object(j.a)({},o),{},Object(I.a)({},e,a.target.value)))}},s=function(){return e.signupError&&e.signupError.length>0?r.a.createElement(h.a,{component:"h2",variant:"h6",style:{fontWeight:"bold",color:"red",marginTop:20}},e.signupError):null};return e.isAuth?r.a.createElement(d.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{component:"h1",variant:"h4"},"User Signup"),r.a.createElement(s,null),r.a.createElement(O.a,{container:!0,justify:"center"},r.a.createElement(O.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(a){a.preventDefault();var t={firstname:o.firstname,lastname:o.lastname,email:o.email,password:o.password,confirmPassword:o.confirmPassword};e.onSignupSubmit(t)}},r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal"},r.a.createElement(A.a,{htmlFor:"filled-adornment-password"},"First name"),r.a.createElement(N.a,{id:"firstname",type:"text",onChange:i("firstname")})),r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal"},r.a.createElement(A.a,{htmlFor:"filled-adornment-password"},"Last name"),r.a.createElement(N.a,{id:"lastname",type:"text",onChange:i("lastname")})),r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal"},r.a.createElement(A.a,{htmlFor:"filled-adornment-password"},"Email Address"),r.a.createElement(N.a,{id:"email",type:"text",onChange:i("email")})),r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal"},r.a.createElement(A.a,{htmlFor:"filled-adornment-password"},"Password"),r.a.createElement(N.a,{id:"password",type:o.showPassword?"text":"password",value:o.password,onChange:i("password"),endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(T.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(j.a)(Object(j.a)({},o),{},{showPassword:!o.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},o.showPassword?r.a.createElement(P.a,null):r.a.createElement(F.a,null)))})),r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal"},r.a.createElement(A.a,{htmlFor:"filled-adornment-confirmPassword"},"Confirm Password"),r.a.createElement(N.a,{id:"confirmPassword",type:o.showConfirmPassword?"text":"password",value:o.confirmPassword,onChange:i("confirmPassword"),endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(T.a,{"aria-label":"toggle confirm password visibility",onClick:function(){l(Object(j.a)(Object(j.a)({},o),{},{showConfirmPassword:!o.showConfirmPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},o.showConfirmPassword?r.a.createElement(P.a,null):r.a.createElement(F.a,null)))})),r.a.createElement(k.a,null,r.a.createElement(_.a,{variant:"contained",color:"secondary",size:"large",type:"submit",style:{marginTop:20}},"Signup to Notflix"),r.a.createElement(u.b,{to:"/login",className:"link-outlined link-primary",style:{marginTop:20}},"Switch to Login"))))))})),G=t(179),z=Object(c.b)((function(e){return console.log("login auth state",e.auth.isAuthorized),{isAuth:e.auth.isAuthorized,loginError:e.auth.loginError}}),(function(e){return{onLoginSubmit:function(a,t){e(function(e,a){var t={email:e,password:a,returnSecureToken:!0};return function(e){U.a.post(L.FIREBASE_SIGNIN_URI+L.FIREBASE_APIKEY,t).then((function(a){console.log("login success",a),e({type:"LOGIN_SUCCESS",response:a})})).catch((function(a){console.log("login failure",a.response),e({type:"LOGIN_FAILURE",errorResponse:a.response})}))}}(a,t))}}}))((function(e){var a=Object(n.useState)({email:"",password:"",showPassword:!1}),t=Object(p.a)(a,2),o=t[0],l=t[1],i=Object(n.useState)({email:{value:o.email,touched:!1,isValid:!0,errMsg:""},password:{value:o.password,touched:!1,isValid:!0,errMsg:""}}),s=Object(p.a)(i,2),c=s[0],m=s[1],g=function(e){return function(a){var t=a.target.value.trim();switch(l(Object(j.a)(Object(j.a)({},o),{},Object(I.a)({},e,t))),e){case"email":m(Object(j.a)(Object(j.a)({},c),{},{email:Object(j.a)(Object(j.a)({},c.email),{},{value:t,touched:!0})}));break;case"password":m(Object(j.a)(Object(j.a)({},c),{},{password:Object(j.a)(Object(j.a)({},c.password),{},{value:t,touched:!0})}));break;default:m(Object(j.a)({},c))}}},f=function(){return e.loginError&&e.loginError.length>0?r.a.createElement(h.a,{component:"h2",variant:"h6",style:{fontWeight:"bold",color:"red",marginTop:20}},e.loginError):null};return e.isAuth?r.a.createElement(d.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{component:"h1",variant:"h4"},"User Login"),r.a.createElement(f,null),r.a.createElement(O.a,{container:!0,justify:"center"},r.a.createElement(O.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(a){a.preventDefault();var t={touched:!0},n={touched:!0};0===o.email.length?(t.isValid=!1,t.errMsg="Email cannot be empty"):/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\b/.test(o.email)?(t.isValid=!0,t.errMsg=""):(t.isValid=!1,t.errMsg="Email entered is invalid"),0===o.password.length?(n.isValid=!1,n.errMsg="Password cannot be empty"):o.password.length<8||o.password.length>15?(n.isValid=!1,n.errMsg="Password must contain 8 to 15 characters"):(n.isValid=!0,n.errMsg=""),t.isValid&&n.isValid?(console.log("Valid login"),e.onLoginSubmit(o.email,o.password)):(console.log("Invalid login"),m(Object(j.a)(Object(j.a)({},c),{},{email:t,password:n})))}},r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal",error:!c.email.isValid},r.a.createElement(A.a,{htmlFor:"filled-adornment-password"},"Email Address"),r.a.createElement(N.a,{id:"email",type:"text",onChange:g("email")}),r.a.createElement(G.a,{id:"filled-weight-helper-text"},c.email.errMsg)),r.a.createElement(k.a,{variant:"filled",fullWidth:!0,margin:"normal",error:!c.password.isValid},r.a.createElement(A.a,{htmlFor:"filled-adornment-password"},"Password"),r.a.createElement(N.a,{id:"password",type:o.showPassword?"text":"password",value:o.password,onChange:g("password"),endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(T.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(j.a)(Object(j.a)({},o),{},{showPassword:!o.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},o.showPassword?r.a.createElement(P.a,null):r.a.createElement(F.a,null)))}),r.a.createElement(G.a,{id:"filled-weight-helper-text"},c.password.errMsg)),r.a.createElement(k.a,null,r.a.createElement(_.a,{variant:"contained",color:"secondary",size:"large",type:"submit",style:{marginTop:20}},"Login to Notflix"),r.a.createElement(u.b,{to:"/signup",className:"link-outlined link-primary",style:{marginTop:20}},"Switch to sign-up"))))))})),M=t(86),V=t.n(M),W=Object(c.b)((function(e){return{isAuthorized:e.auth.isAuthorized}}),(function(e){return{onLogout:function(){e({type:"LOGOUT"})}}}))((function(e){return e.isAuthorized?(e.onLogout(),r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{component:"h1",variant:"h4"},"You have been logged-out successfully"),r.a.createElement(_.a,{href:"/login",className:"watch",color:"secondary",size:"large",variant:"contained",endIcon:r.a.createElement(V.a,{color:"inherit"}),style:{marginTop:30}},"Login Again"))):r.a.createElement(d.a,{to:"/"})})),B=t(87),Z=t(88),H=t(94),Y=t(93),K=t(89),J=t.n(K),X=t(97),$=t(90),q=t.n($),Q=function(e){var a=Object(d.g)();return r.a.createElement(X.a,{variant:"elevation",className:"carouselHolder"},r.a.createElement("img",{src:e.flix.thumbnailUrl,alt:e.flix.title}),r.a.createElement("div",{className:"flixInfo"},r.a.createElement("h2",null,e.flix.title),r.a.createElement("p",{className:"imdb"},r.a.createElement("strong",null,"IMDb: "),e.flix.imdb),r.a.createElement("p",{className:"genre"},r.a.createElement("strong",null,"Genre: "),e.flix.genre.join(", ")),r.a.createElement(_.a,{className:"watch",color:"secondary",size:"large",variant:"contained",endIcon:r.a.createElement(q.a,{color:"inherit"}),onClick:function(e){var t=null;ee.forEach((function(a){a._id===e&&(t=a)})),a.push("/flix/"+e,t)}.bind(void 0,e.flix._id)},"Watch Now")))},ee=[{thumbnailUrl:"https://via.placeholder.com/150.jpg",videoUrl:"https://via.placeholder.com/500.jpg",genre:["Documentary"],languages:["English","Malai","Thai"],_id:"5f85b348fc2173092415558a",title:"Green House",desc:"Sample Description",category:"Documentary",releaseDate:"2019-12-31T18:30:00.000Z",imdb:7.2,createdAt:"2020-10-13T14:01:45.027Z",updatedAt:"2020-11-01T15:09:12.870Z",__v:5},{thumbnailUrl:"https://via.placeholder.com/150.jpg",videoUrl:"https://via.placeholder.com/500.jpg",genre:["Horror","Comedy"],languages:["Tamil","Telugu"],_id:"5f85b4e34c748809c6fb3d0c",title:"In Pursuit of Crappiness",desc:"Sample Description",category:"Documentary",releaseDate:"2019-12-31T18:30:00.000Z",imdb:7.2,createdAt:"2020-10-13T14:08:35.248Z",updatedAt:"2020-11-01T15:32:34.085Z",__v:3},{thumbnailUrl:"https://via.placeholder.com/150.jpg",videoUrl:"https://via.placeholder.com/500.jpg",genre:["Romantic","Comedy"],languages:["English","French"],_id:"5f86773f01a4ae5aeeb3e475",title:"French Rom-Com",desc:"Sample Description",category:"TV",releaseDate:"2019-12-31T18:30:00.000Z",imdb:5,createdAt:"2020-10-14T03:57:51.419Z",updatedAt:"2020-11-01T14:59:40.862Z",__v:1}],ae=function(e){return r.a.createElement(J.a,{animation:"fade",autoPlay:!0,navButtonsAlwaysVisible:!0,fullHeightHover:!0},ee.map((function(e){return r.a.createElement(Q,{key:e._id,flix:e})})))},te=t(181),ne=t(182),re=t(183),oe=t(184),le=t(57),ie=t.n(le),se=function(e){var a=x(),t=Object(d.g)(),n=e.flix,o=function(e){var a=null;n.forEach((function(t){t._id===e&&(a=t)})),t.push("/flix/"+e,a)},l=function(e){return r.a.createElement(te.a,{className:a.gridList,cols:4},n.map((function(e){return r.a.createElement(ne.a,{onClick:o.bind(void 0,e._id),key:e._id,classes:{tile:a.gridTile}},r.a.createElement("img",{src:e.thumbnailUrl,alt:e.title}),r.a.createElement(re.a,{title:e.title,subtitle:e.genre.join(", "),classes:{root:a.gridTileBar,subtitle:a.subtitle},actionIcon:r.a.createElement(T.a,null,r.a.createElement(ie.a,{color:"secondary"}))}))})))};if(e.flix)return r.a.createElement(oe.a,{style:{textAlign:"left"}},r.a.createElement(h.a,{variant:"h6",component:"h2",color:"initial"},e.name," ",r.a.createElement("span",{className:"secondary",onClick:function(e,a){t.push("/group/"+e,a)}.bind(void 0,e.name,e.flix)},"see more")),r.a.createElement(l,{flix:e.flix}))},ce=function(e){return e.visible?r.a.createElement("div",{id:"spinnerBackdrop"},r.a.createElement("img",{src:"/spinner.gif",style:me.spinnerImg,alt:"spinner"})):null},me={spinner:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},spinnerIcon:{fontSize:36,color:"#f44336"},spinnerImg:{height:60},waitText:{fontWeight:500,fontSize:18,color:"#f44336",textTransform:"uppercase",marginTop:10}},ue=function(e){Object(H.a)(t,e);var a=Object(Y.a)(t);function t(){var e;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={flix:[],spin:!1},e}return Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(j.a)(Object(j.a)({},this.state),{},{spin:!0})),U.a.get("https://notflix-node-api.herokuapp.com/getAllFlix").then((function(a){if(a.data){var t=a.data;console.log("allflix res",t),e.setState({flix:t,spin:!1})}})).catch((function(e){console.log("Unable to getFlix",e)}))}},{key:"render",value:function(){var e=this;return console.log("Initial State",this.props.initialState.isAuthorized),r.a.createElement(n.Fragment,null,r.a.createElement(ce,{visible:this.state.spin}),r.a.createElement(ae,null),r.a.createElement(se,{name:"Wishlist",flix:this.state.flix}),this.props.preferredLang.map((function(a,t){var n=e.state.flix.filter((function(e){return e.languages.includes(a)}));return r.a.createElement(se,{key:a+t,name:a,flix:n})})),this.props.preferredGenre.map((function(a,t){var n=e.state.flix.filter((function(e){return e.genre.includes(a)}));return r.a.createElement(se,{key:a+t,name:a,flix:n})})))}}]),t}(n.Component),de=Object(c.b)((function(e){return{initialState:e.auth,isAuth:e.auth.isAuthorized,expiresIn:e.auth.expiresIn,preferredLang:e.auth.preferredLang,preferredGenre:e.auth.preferredGenre,selectedFlix:e.flix.selectedFlix}}),(function(e){return{onLogout:function(){e({type:"LOGOUT"})},onFlixSelection:function(){e({type:"SELECTED-FLIX"})}}}))(ue),pe=t(91),ge=t.n(pe),fe=Object(c.b)((function(e){return{isAuth:e.auth.isAuthorized,expiresIn:e.auth.expiresIn}}),(function(e){return{onLogout:function(){e({type:"LOGOUT"})}}}))((function(e){console.log("Validating Session");var a=function(){if(e.isAuth){var a=new Date(e.expiresIn)<=new Date;return console.log("Previously logged-in user"),a?(console.log("Session expired: clearing"),e.onLogout(),r.a.createElement(d.a,{to:"/login"})):null}return console.log("User not logged-in"),r.a.createElement(d.a,{to:"/login"})};return r.a.createElement(a,null)})),he=function(e){var a=e.location.state||e.flix;return console.log(a,e.location.state,e.flix),a?r.a.createElement(n.Fragment,null,r.a.createElement(fe,null),r.a.createElement("h1",null,a.title),r.a.createElement(oe.a,null,r.a.createElement("img",{src:a.videoUrl,alt:a.title})),r.a.createElement("div",{className:"rowFlexi"},r.a.createElement("div",{className:"flexItem labelFlexi"},r.a.createElement("p",{className:"title"},"Title : "),r.a.createElement("p",{className:"imdb"},"IMDB : "),r.a.createElement("p",{className:"category"},"Category : "),r.a.createElement("p",{className:"genre"},"Genre : "),r.a.createElement("p",{className:"lang"},"Languages : "),r.a.createElement("p",{className:"release"},"Released : "),r.a.createElement("p",{className:"desc"},"Description : ")),r.a.createElement("div",{className:"flexItem valueFlexi"},r.a.createElement("p",{className:"title"},a.title),r.a.createElement("p",{className:"imdb"},null==a.imdb?"N/A":a.imdb),r.a.createElement("p",{className:"category"},a.category),r.a.createElement("p",{className:"genre"},a.genre.join(", ")),r.a.createElement("p",{className:"lang"},a.languages.join(", ")),r.a.createElement("p",{className:"release"},ge()(a.releasedDate).format("Do MMMM YYYY")),r.a.createElement("p",{className:"desc"},a.desc)))):r.a.createElement("h1",null,"No data to display")},Ee=t(185),be=t(186),we=t(187),ve=t(188),xe=t(189),ye=t(92),Se=t.n(ye),Ie=function(e){var a=e.location.state,t=x(),o=Object(d.g)(),l=function(e){var t=null;a.forEach((function(a){a._id===e&&(t=a)})),o.push("/flix/"+e,t)};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,e.match.params.genre," Collection"),r.a.createElement(O.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"stretch",spacing:1,className:t.Grid},a.map((function(e){return r.a.createElement(O.a,{key:e._id,item:!0,xs:12,sm:4,md:3},r.a.createElement(Ee.a,{className:t.Card,raised:!0},r.a.createElement(be.a,{title:e.title,subheader:e.genre.join(", ")}),r.a.createElement(we.a,{className:t.CardMedia,image:e.thumbnailUrl,title:e.title,onClick:l.bind(void 0,e._id)}),r.a.createElement(ve.a,null,r.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},e.desc)),r.a.createElement(xe.a,{disableSpacing:!0},r.a.createElement(T.a,{"aria-label":"add to wishlist"},r.a.createElement(ie.a,{color:"secondary"})),r.a.createElement(T.a,{"aria-label":"share"},r.a.createElement(Se.a,null)))))}))))},je=function(e){return r.a.createElement(h.a,{component:"h1",variant:"h4",color:"secondary"},"Access Denied")},Oe=function(e){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement("main",{id:"mainWrapper"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/signup",exact:!0,component:R}),r.a.createElement(d.b,{path:"/login",exact:!0,component:z}),r.a.createElement(d.b,{path:"/flix/:flixId",component:he}),r.a.createElement(d.b,{path:"/group/:genre",component:Ie}),r.a.createElement(d.b,{path:"/logout",exact:!0,component:W}),r.a.createElement(d.b,{path:"/not-allowed",exact:!0,component:je}),r.a.createElement(d.b,{path:"/",exact:!0,component:de}))),r.a.createElement("footer",null,r.a.createElement(S,null))))},ke=(t(150),t(151),{selectedFlix:null,selectedGenre:""}),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELECTED_FLIX":return Object(j.a)(Object(j.a)({},e),{},{selectedFlix:a.flix});case"SELECTED_GENRE":return Object(j.a)(Object(j.a)({},e),{},{selectedGenre:a.genre});default:return Object(j.a)({},e)}},Ne={email:localStorage.getItem("email")||"",userId:localStorage.getItem("userId")||"",firstname:localStorage.getItem("firstname")||"",lastname:localStorage.getItem("lastname")||"",preferredLang:["English"],preferredGenre:["Horror","Crime"],isAuthorized:JSON.parse(localStorage.getItem("isAuthorized"))||!1,token:localStorage.getItem("token")||null,refreshToken:localStorage.getItem("refreshToken")||null,expiresIn:localStorage.getItem("expiresIn")||null,signupError:"",loginError:""},Ce=function(e){for(var a in e)localStorage.setItem(a,e[a])},Te=function(e,a){var t={email:a.response.data.email,userId:a.response.data.localId,firstname:a.inputData.firstname,lastname:a.inputData.lastname,isAuthorized:!0,token:a.response.data.idToken,refreshToken:a.response.data.refreshToken,expiresIn:new Date(Date.now()+1e3*(+a.response.data.expiresIn-2))};return Ce(t),Object(j.a)(Object(j.a)(Object(j.a)({},e),t),{},{signupError:"",loginError:""})},_e=function(e,a){var t="Unable to Signup";return a.response&&(t=a.response.data.error.message),Object(j.a)(Object(j.a)({},e),{},{isAuthorized:!1,signupError:t})},Pe=function(e,a){var t={email:a.response.data.email,userId:a.response.data.localId,firstname:"Sudeep",lastname:"Pirangi",isAuthorized:!0,token:a.response.data.idToken,refreshToken:a.response.data.refreshToken,expiresIn:new Date(Date.now()+1e3*(+a.response.data.expiresIn-2))};return Ce(t),Object(j.a)(Object(j.a)(Object(j.a)({},e),t),{},{signupError:"",loginError:""})},Fe=function(e,a){var t="Unable to Login";return a.errorResponse&&(t=a.errorResponse.data.error.message),Object(j.a)(Object(j.a)({},e),{},{isAuthorized:!1,loginError:t})},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGNUP_SUCCESS":return Te(e,a);case"SIGNUP_FAILURE":return _e(e,a);case"LOGIN_SUCCESS":return Pe(e,a);case"LOGIN_FAILURE":return Fe(e,a);case"LOGOUT":return localStorage.clear(),Object(j.a)(Object(j.a)({},e),Ne);default:return Ne}},Ue=Object(s.c)({flix:Ae,auth:De}),Le=Object(s.d)(Ue,Object(s.a)(m.a));l.a.render(r.a.createElement(i.a,{theme:v},r.a.createElement(c.a,{store:Le},r.a.createElement(Oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.03117384.chunk.js.map